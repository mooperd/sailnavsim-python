{% extends "layout.jinja2" %}

{% block content %}

<section class="section is-medium">
  <article class="panel is-primary">
    <p class="panel-heading">Login</p>
    <form class="box" method="POST" action="/login">

      {{ form.csrf_token }}

      <div class="field">
        <label class="label">Email</label>
        <div class="control has-icons-left has-icons-right">
          {{ form.email(class_="input", placeholder='youremail@example.com') }}
          <span class="icon is-small is-left">
            <i class="fas fa-envelope"></i>
          </span>
        {% if form.email.errors %}
          <span class="icon is-small is-right">
            <i class="fas fa-exclamation-triangle"></i>
          </span>
        </div>
        {% for error in form.email.errors %}
        <p class="help is-danger">This email is invalid</p>
        {% endfor %}
        {% endif %}
      </div>

      <div class="field">
      <label class="label">Password</label>
        <p class="control has-icons-left">
          {{ form.password(class_="input", placeholder='password') }}
          <span class="icon is-small is-left">
            <i class="fas fa-lock"></i>
          </span>
        </p>
      </div>

      <div class="field">
        <p class="control">
          {{ form.submit(class_="button is-success") }}
        </p>
      </div>

      <div class="login-signup">
        <span>Don't have an account? <a href="{{ url_for('auth_bp.signup') }}">Sign up.</a></span>
      </div>

    </form>
  </article>
</section>
{% endblock %}
